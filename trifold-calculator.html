<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/svg.js/3.0.16/svg.min.js" integrity="sha512-p3Tp2zn+wApBreZCgRkmMwnfpN8MUPXzzOihXx7iGYXqE7t6m9drY8HeyMeeFuDWiTFKrGUrq3jpbT0vX6zY/Q==" crossorigin="anonymous"></script>
    <script src="trifold.js"></script>
  </head>
  <body onload="draw();">
    <div>
      <label>Vertical Margin: <input id="margin-vertical-input" type="number" min="0" max="30" value="10" oninput="draw();"/></label>
      <label>Horizontal Margin: <input id="margin-horizontal-input" type="number" min="0" max="30" value="10" oninput="draw();"/></label>
      <label>Gutter: <input id="gutter-input" type="number" min="0" max="30" value="10" oninput="draw();"/></label>
    </div>
    <svg id="diagram-outside"></svg>
    <svg id="diagram-inside"></svg>
    <script>
      function draw() {
        let layout = new Layout();
        layout.pageWidth = 297;
        layout.pageHeight = 210;
        layout.hmargin = parseInt(document.getElementById('margin-horizontal-input').value, 10);
        layout.vmargin = parseInt(document.getElementById('margin-vertical-input').value, 10);
        layout.gutter = parseInt(document.getElementById('gutter-input').value, 10);
        drawMetrics('#diagram-outside', getOutsideMetrics(layout));
        drawMetrics('#diagram-inside', getInsideMetrics(layout));

        console.log(layout.panels.flatMap(p => [p.x, p.x + p.w]))
        let s = `Folds at ${layout.folds.join(', ')}.`;
        console.log(s);
      }
    </script>
  </body>
</html>
